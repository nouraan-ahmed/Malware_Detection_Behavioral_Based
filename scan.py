import subprocess
import psutil


def kill(pid):
    subprocess.check_output("kill -9 "+str(pid), shell=True)


runningp = []

# Iterate over all running process
for proc in psutil.process_iter():
    if(proc.status() == "running"):
        try:
            # Get process pid from process object.
            processID = proc.pid
            proccessName = str(proc.name())
            runningp.append(processID)
            # 200MB (1677721600)
            if(proc.memory_info().vms >= 1024 * 1024 * 8 * 200):
                kill(processID)
                print("The Process Named {"+proccessName+"} With PID (" +
                      str(processID)+") Has Been Killed ....")

        except (psutil.NoSuchProcess, psutil.AccessDenied, psutil.ZombieProcess):
            pass
